'' latest findings needing to be fixed

' --------------------------------------------------------------------------------------------------
' REF: https://github.com/ironsheep/P2-vscode-extensions/issues/17
OBJ

    serIO : "dummy_jm_serial"         ' jm  serial object

PUB pullUpValueForEnum(ePullupRqst) : pullup | localVar
'' ...
''
'' @param ePullupRqst -
'' @returns pullup -
'
' Local Variables:
' @local localVar -
  case ePullupRqst    ' <--- why RED??? (causeed by mthod names collision)
    serIO.PU_NONE : pullup := P_HIGH_FLOAT                            ' use external pull-up
    serIO.PU_1K5  : pullup := P_HIGH_1K5                              ' 1.5k
    serIO.PU_3K3  : pullup := P_HIGH_1MA                              ' acts like ~3.3k
    other   : pullup := P_HIGH_15K                              ' 15K

' --------------------------------------------------------------------------------------------------
' REF: https://github.com/ironsheep/P2-vscode-extensions/issues/18

PRI pullUpValueForEnum2(ePullupRqst) : pullup
    if ePullupRqst == serIO.PU_NONE
      pullup := P_HIGH_FLOAT
    elseif ePullupRqst == serIO.PU_1K5
      pullup := P_HIGH_1K5
    else if ePullupRqst == serIO.PU_3K3   ' this ELSE IF won't compile!!  BAD Mark as RED
      pullup := P_HIGH_1MA
    else
      pullup := P_HIGH_15K

DAT
                org
' main pasm entry point
pasm_program    debug                               ' do a DEBUG at the start of the program to open debugger
.loop           add     pa,#1                       ' select "MAIN" in the debugger to single-step
                sub     pb,#2                   wc
    if_c        jmp     #.loop
                jmp     #pasm_program

:loop           add     pa,#1                       ' select "MAIN" in the debugger to single-step
                sub     pb,#2                   wc
    if_c        jmp     #:loop                      ' GOOD! Spin1 local names should be RED!!!
                jmp     #pasm_program
